# Index

## Works


## Notes

- Insert an index into B-tree block when splitting a data block.
    -  If there are at least two different datavals in the block, then it splits.
    -  If the block is full with same value records, then another overflow block is created and chained to the existing one.

```mermaid
graph TB
    Hash["B-Tree Index<br/>bucket 0 | bucket 1"]
    
    Block1["[val1, r1] [val2, r2]"]
    Block2["[val3, r3]"]
    Overflow["[val3, r4] [val3, r5] [val3, r6]<br/>[val3, r7] [val3, r8] [val3, r9]"]
    
    Hash -->|bucket 0| Block1
    Hash -->|bucket 1| Block2
    Block2 -->|overflow chain| Overflow
    
    style Hash fill:#e1f5ff
    style Block1 fill:#fff4e1
    style Block2 fill:#fff4e1
    style Overflow fill:#ffe1e1
```
